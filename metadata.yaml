# Copyright 2021 guoqiao
# See LICENSE file for licensing details.
name: pihole

summary: |
  Charmed Kubernetes Operator to deploy and manage Pi-hole in a Kubernetes cluster.

description: |
  Pi-hole is a DNS sinkhole that protects your devices from unwanted content,
  without installing any client-side software.
  This Charm manages Pi-hole in Kubernetes cluster.
  Powered by Charmed Operator Framework.

containers:
  pihole:
    resource: pihole-image
    mounts:
      - storage: etc-pihole
        location: /etc/pihole/
      - storage: etc-dnsmasq
        location: /etc/dnsmasq.d/

resources:
  pihole-image:
    type: oci-image
    description: OCI image for pihole (https://hub.docker.com/r/pihole/pihole)


storage:
  etc-pihole:
    type: filesystem
    location: /srv/etc/pihole/
  etc-dnsmasq:
    type: filesystem
    location: /srv/etc/dnsmasq.d/

requires:
  ingress:
    interface: ingress
